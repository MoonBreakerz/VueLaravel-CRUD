{"ast":null,"code":"import { TarefasService } from \"../../services/TarefasService\";\nexport default {\n  name: \"TarefasComponent\",\n  data() {\n    return {\n      tarefaId: this.$route.params.tarefaId,\n      tarefas: []\n    };\n  },\n  async created() {\n    let response = await TarefasService.getAllTarefas();\n    this.tarefas = response.data;\n  },\n  methods: {\n    async clickDeleteTarefa(tarefaId) {\n      let response = await TarefasService.deletarTarefa(tarefaId);\n      if (response.status === 204) {\n        this.tarefas = this.tarefas.filter(t => t.id !== tarefaId);\n      }\n    },\n    async finalizarTarefa(tarefaId) {\n      let tarefa = this.tarefas.find(t => t.id === tarefaId);\n      tarefa.finalizado = \"sim\";\n      let response = await TarefasService.finalizarTarefa(tarefa, tarefa.id);\n      if (response.status === 200) {\n        this.tarefas = this.tarefas.map(t => t.id === tarefa.id ? tarefa : t);\n      }\n    }\n  }\n};","map":{"version":3,"names":["TarefasService","name","data","tarefaId","$route","params","tarefas","created","response","getAllTarefas","methods","clickDeleteTarefa","deletarTarefa","status","filter","t","id","finalizarTarefa","tarefa","find","finalizado","map"],"sources":["C:\\Users\\gabri\\Documents\\inbraep\\frontend\\src\\views\\TarefasComponent.vue"],"sourcesContent":["<template>\r\n    <div class=\"container mt-3\">\r\n        <div class=\"row\">\r\n            <div class=\"col\">\r\n                <p class=\"h3 text-success fw-bold\">\r\n                    Adicionar Tarefa\r\n                    <router-link to=\"/tarefas/adicionar\"\r\n                                 class=\"btn btn-success btn-sm\">\r\n                        <i class=\"fa fa-plus-circle\"></i> Nova\r\n                    </router-link>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"container mt-3\" v-if=\"tarefas.length > 0\">\r\n        <div class=\"row\">\r\n            <div class=\"col\">\r\n                <div class=\"card mb-3\"\r\n                     v-for=\"tarefa of tarefas\"\r\n                     :key=\"tarefa.id\"\r\n                     :class=\"{\r\n            'text-muted': tarefa.finalizado === 'sim',\r\n            'bg-success': tarefa.finalizado === 'sim'\r\n          }\">\r\n                    <div class=\"card-body d-flex justify-content-between align-items-center\">\r\n                        <div>\r\n                            <p class=\"card-text\">{{ tarefa.descricao }}</p>\r\n                        </div>\r\n\r\n                        <div class=\"d-flex flex-row-reverse\">\r\n                            <router-link v-if=\"tarefa.finalizado === 'nao'\"\r\n                                         :to=\"`/tarefas/editar/${tarefa.id}`\"\r\n                                         class=\"btn btn-primary mr-2\">\r\n                                <i class=\"fa fa-pen\"></i>\r\n                            </router-link>\r\n\r\n                            <button class=\"btn btn-danger\"\r\n                                    @click=\"clickDeleteTarefa(tarefa.id)\">\r\n                                <i class=\"fa fa-trash\"></i>\r\n                            </button>\r\n\r\n                            <button v-if=\"tarefa.finalizado === 'nao'\"\r\n                                    class=\"btn btn-secondary ml-2\"\r\n                                    @click=\"finalizarTarefa(tarefa.id)\">\r\n                                <i class=\"fa fa-check\"></i>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { TarefasService } from \"../../services/TarefasService\";\r\n\r\n    export default {\r\n        name: \"TarefasComponent\",\r\n        data() {\r\n            return {\r\n                tarefaId: this.$route.params.tarefaId,\r\n                tarefas: [],\r\n            };\r\n        },\r\n        async created() {\r\n            let response = await TarefasService.getAllTarefas();\r\n            this.tarefas = response.data;\r\n        },\r\n        methods: {\r\n            async clickDeleteTarefa(tarefaId) {\r\n                let response = await TarefasService.deletarTarefa(tarefaId);\r\n                if (response.status === 204) {\r\n                    this.tarefas = this.tarefas.filter((t) => t.id !== tarefaId);\r\n                }\r\n            },\r\n            async finalizarTarefa(tarefaId) {\r\n                let tarefa = this.tarefas.find((t) => t.id === tarefaId);\r\n                tarefa.finalizado = \"sim\";\r\n\r\n                let response = await TarefasService.finalizarTarefa(tarefa, tarefa.id);\r\n\r\n                if (response.status === 200) {\r\n                    this.tarefas = this.tarefas.map((t) =>\r\n                        t.id === tarefa.id ? tarefa : t\r\n                    );\r\n                }\r\n            },\r\n        },\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    .card-text {\r\n        color: #000000;\r\n        font-weight: bold;\r\n    }\r\n</style>\r\n"],"mappings":"AAuDI,SAASA,cAAa,QAAS,+BAA+B;AAE9D,eAAe;EACXC,IAAI,EAAE,kBAAkB;EACxBC,IAAIA,CAAA,EAAG;IACH,OAAO;MACHC,QAAQ,EAAE,IAAI,CAACC,MAAM,CAACC,MAAM,CAACF,QAAQ;MACrCG,OAAO,EAAE;IACb,CAAC;EACL,CAAC;EACD,MAAMC,OAAOA,CAAA,EAAG;IACZ,IAAIC,QAAO,GAAI,MAAMR,cAAc,CAACS,aAAa,CAAC,CAAC;IACnD,IAAI,CAACH,OAAM,GAAIE,QAAQ,CAACN,IAAI;EAChC,CAAC;EACDQ,OAAO,EAAE;IACL,MAAMC,iBAAiBA,CAACR,QAAQ,EAAE;MAC9B,IAAIK,QAAO,GAAI,MAAMR,cAAc,CAACY,aAAa,CAACT,QAAQ,CAAC;MAC3D,IAAIK,QAAQ,CAACK,MAAK,KAAM,GAAG,EAAE;QACzB,IAAI,CAACP,OAAM,GAAI,IAAI,CAACA,OAAO,CAACQ,MAAM,CAAEC,CAAC,IAAKA,CAAC,CAACC,EAAC,KAAMb,QAAQ,CAAC;MAChE;IACJ,CAAC;IACD,MAAMc,eAAeA,CAACd,QAAQ,EAAE;MAC5B,IAAIe,MAAK,GAAI,IAAI,CAACZ,OAAO,CAACa,IAAI,CAAEJ,CAAC,IAAKA,CAAC,CAACC,EAAC,KAAMb,QAAQ,CAAC;MACxDe,MAAM,CAACE,UAAS,GAAI,KAAK;MAEzB,IAAIZ,QAAO,GAAI,MAAMR,cAAc,CAACiB,eAAe,CAACC,MAAM,EAAEA,MAAM,CAACF,EAAE,CAAC;MAEtE,IAAIR,QAAQ,CAACK,MAAK,KAAM,GAAG,EAAE;QACzB,IAAI,CAACP,OAAM,GAAI,IAAI,CAACA,OAAO,CAACe,GAAG,CAAEN,CAAC,IAC9BA,CAAC,CAACC,EAAC,KAAME,MAAM,CAACF,EAAC,GAAIE,MAAK,GAAIH,CAClC,CAAC;MACL;IACJ;EACJ;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}